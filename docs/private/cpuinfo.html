<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>cpuinfo</title>
<link rel="stylesheet" type="text/css" href="nimdoc.out.css">

<script type="text/javascript" src="dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  toggleSwitch.addEventListener('change', switchTheme, false);

  const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;
  if (currentTheme) {
    document.documentElement.setAttribute('data-theme', currentTheme);

    if (currentTheme === 'dark') {
      toggleSwitch.checked = true;
    }
  }
}

window.addEventListener('DOMContentLoaded', main);
</script>

</head>
<body>
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">cpuinfo</h1>
    <div class="row">
  <div class="three columns">
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
    &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
  </div>
  <div id="global-links">
    <ul class="simple">
    <li>
      <a href="../index.html">Index</a>
    </li>
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
  <div>
    Group by:
    <select onchange="groupBy(this.value)">
      <option value="section">Section</option>
      <option value="type">Type</option>
    </select>
  </div>
  <ul class="simple simple-toc" id="toc-list">
<li><a class="reference" id="cpuinfodotnim_toc" href="#cpuinfodotnim">cpuinfo.nim</a></li>
<li>
  <a class="reference reference-toplevel" href="#10" id="60">Consts</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#CACHELINE_SIZE"
    title="CACHELINE_SIZE* = 128">CACHELINE_SIZE</a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#12" id="62">Procs</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#getCPUCount"
    title="getCPUCount*(): cint">getCPUCount</a></li>
  <li><a class="reference" href="#getCPUCacheLineSize"
    title="getCPUCacheLineSize*(): cint">getCPUCacheLineSize</a></li>
  <li><a class="reference" href="#hasRDTSC"
    title="hasRDTSC*(): bool">hasRDTSC</a></li>
  <li><a class="reference" href="#hasAltiVec"
    title="hasAltiVec*(): bool">hasAltiVec</a></li>
  <li><a class="reference" href="#hasMMX"
    title="hasMMX*(): bool">hasMMX</a></li>
  <li><a class="reference" href="#has3DNow"
    title="has3DNow*(): bool">has3DNow</a></li>
  <li><a class="reference" href="#hasSSE"
    title="hasSSE*(): bool">hasSSE</a></li>
  <li><a class="reference" href="#hasSSE2"
    title="hasSSE2*(): bool">hasSSE2</a></li>
  <li><a class="reference" href="#hasSSE3"
    title="hasSSE3*(): bool">hasSSE3</a></li>
  <li><a class="reference" href="#hasSSE41"
    title="hasSSE41*(): bool">hasSSE41</a></li>
  <li><a class="reference" href="#hasSSE42"
    title="hasSSE42*(): bool">hasSSE42</a></li>
  <li><a class="reference" href="#hasAVX"
    title="hasAVX*(): bool">hasAVX</a></li>
  <li><a class="reference" href="#hasAVX2"
    title="hasAVX2*(): bool">hasAVX2</a></li>
  <li><a class="reference" href="#hasAVX512F"
    title="hasAVX512F*(): bool">hasAVX512F</a></li>
  <li><a class="reference" href="#hasARMSIMD"
    title="hasARMSIMD*(): bool">hasARMSIMD</a></li>
  <li><a class="reference" href="#hasNEON"
    title="hasNEON*(): bool">hasNEON</a></li>
  <li><a class="reference" href="#getSystemRAM"
    title="getSystemRAM*(): cint">getSystemRAM</a></li>
  <li><a class="reference" href="#simdGetAlignment"
    title="simdGetAlignment*(): csize_t">simdGetAlignment</a></li>
  <li><a class="reference" href="#simdAlloc%2Ccsize_t"
    title="simdAlloc*(len: csize_t): pointer">simdAlloc</a></li>
  <li><a class="reference" href="#simdRealloc%2Cpointer%2Ccsize_t"
    title="simdRealloc*(mem: pointer; len: csize_t): pointer">simdRealloc</a></li>
  <li><a class="reference" href="#simdFree%2Cpointer"
    title="simdFree*(p: pointer)">simdFree</a></li>

  </ul>
</li>

</ul>

  </div>
  
  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc">
<h1><a class="toc-backref" id="cpuinfodotnim" href="#cpuinfodotnim">cpuinfo.nim</a></h1><p>CPU feature detection for SDL.</p>
</p>
  <div class="section" id="10">
<h1><a class="toc-backref" href="#10">Consts</a></h1>
<dl class="item">
<a id="CACHELINE_SIZE"></a>
<dt><pre><span class="Identifier">CACHELINE_SIZE</span><span class="Operator">*</span> <span class="Other">=</span> <span class="DecNumber">128</span></pre></dt>
<dd>


This is a guess for the cacheline size used for padding. Most x86 processors have a 64 byte cache line. The 64-bit PowerPC processors have a 128 byte cache line. We'll use the larger value to be generally safe.

</dd>

</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#12">Procs</a></h1>
<dl class="item">
<a id="getCPUCount"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getCPUCount"><span class="Identifier">getCPUCount</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_GetCPUCount&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

This procedure returns the number of CPU cores available.

</dd>
<a id="getCPUCacheLineSize"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getCPUCacheLineSize"><span class="Identifier">getCPUCacheLineSize</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_GetCPUCacheLineSize&quot;</span><span class="Other">,</span>
                                    <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>This procedure returns the L1 cache line size of the CPU</p>
<p>This is useful for determining multi-threaded structure padding or SIMD prefetch sizes.</p>


</dd>
<a id="hasRDTSC"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#hasRDTSC"><span class="Identifier">hasRDTSC</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_HasRDTSC&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

This procedure returns true if the CPU has the RDTSC instruction.

</dd>
<a id="hasAltiVec"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#hasAltiVec"><span class="Identifier">hasAltiVec</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_HasAltiVec&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

This procedure returns true if the CPU has AltiVec features.

</dd>
<a id="hasMMX"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#hasMMX"><span class="Identifier">hasMMX</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_HasMMX&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

This procedure returns true if the CPU has MMX features.

</dd>
<a id="has3DNow"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#has3DNow"><span class="Identifier">has3DNow</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_Has3DNow&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

This procedure returns true if the CPU has 3DNow! features.

</dd>
<a id="hasSSE"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#hasSSE"><span class="Identifier">hasSSE</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_HasSSE&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

This procedure returns true if the CPU has SSE features.

</dd>
<a id="hasSSE2"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#hasSSE2"><span class="Identifier">hasSSE2</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_HasSSE2&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

This procedure returns true if the CPU has SSE2 features.

</dd>
<a id="hasSSE3"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#hasSSE3"><span class="Identifier">hasSSE3</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_HasSSE3&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

This procedure returns true if the CPU has SSE3 features.

</dd>
<a id="hasSSE41"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#hasSSE41"><span class="Identifier">hasSSE41</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_HasSSE41&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

This procedure returns true if the CPU has SSE4.1 features.

</dd>
<a id="hasSSE42"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#hasSSE42"><span class="Identifier">hasSSE42</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_HasSSE42&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

This procedure returns true if the CPU has SSE4.2 features.

</dd>
<a id="hasAVX"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#hasAVX"><span class="Identifier">hasAVX</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_HasAVX&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

This procedure returns true if the CPU has AVX features.

</dd>
<a id="hasAVX2"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#hasAVX2"><span class="Identifier">hasAVX2</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_HasAVX2&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

This procedure returns true if the CPU has AVX2 features.

</dd>
<a id="hasAVX512F"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#hasAVX512F"><span class="Identifier">hasAVX512F</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_HasAVX512F&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

This procedure returns true if the CPU has AVX-512F (foundation) features.

</dd>
<a id="hasARMSIMD"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#hasARMSIMD"><span class="Identifier">hasARMSIMD</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_HasARMSIMD&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

This procedure returns true if the CPU has ARM SIMD (ARMv6) features.

</dd>
<a id="hasNEON"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#hasNEON"><span class="Identifier">hasNEON</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_HasNEON&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

This procedure returns true if the CPU has NEON (ARM SIMD) features.

</dd>
<a id="getSystemRAM"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getSystemRAM"><span class="Identifier">getSystemRAM</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_GetSystemRAM&quot;</span><span class="Other">,</span>
                             <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

This procedure returns the amount of RAM configured in the system, in MB.

</dd>
<a id="simdGetAlignment"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#simdGetAlignment"><span class="Identifier">simdGetAlignment</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">csize_t</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_SIMDGetAlignment&quot;</span><span class="Other">,</span>
                                    <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Report the alignment this system needs for SIMD allocations.</p>
<p>This will return the minimum number of bytes to which a pointer must be aligned to be compatible with SIMD instructions on the current machine. For example, if the machine supports SSE only, it will return 16, but if it supports AVX-512F, it'll return 64 (etc). This only reports values for instruction sets SDL knows about, so if your SDL build doesn't have <tt class="docutils literal"><span class="pre">sdl.hasAVX512F()</span></tt>, then it might return 16 for the SSE support it sees and not 64 for the AVX-512 instructions that exist but SDL doesn't know about. Plan accordingly.</p>


</dd>
<a id="simdAlloc,csize_t"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#simdAlloc%2Ccsize_t"><span class="Identifier">simdAlloc</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Identifier">len</span><span class="Other">:</span> <span class="Identifier">csize_t</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">pointer</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_SIMDAlloc&quot;</span><span class="Other">,</span>
    <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Allocate memory in a SIMD-friendly way.</p>
<p>This will allocate a block of memory that is suitable for use with SIMD instructions. Specifically, it will be properly aligned and padded for the system's supported vector instructions.</p>
<p>The memory returned will be padded such that it is safe to read or write an incomplete vector at the end of the memory block. This can be useful so you don't have to drop back to a scalar fallback at the end of your SIMD processing loop to deal with the final elements without overflowing the allocated buffer.</p>
<p>You must free this memory with <tt class="docutils literal"><span class="pre">sdl.freeSIMD()</span></tt>, not <tt class="docutils literal"><span class="pre">free()</span></tt> or <tt class="docutils literal"><span class="pre">sdl.free()</span></tt> etc.</p>
<p>Note that SDL will only deal with SIMD instruction sets it is aware of; for example, SDL 2.0.8 knows that SSE wants 16-byte vectors (<tt class="docutils literal"><span class="pre">sdl.hasSSE()</span></tt>), and AVX2 wants 32 bytes (<tt class="docutils literal"><span class="pre">sdl.hasAVX2()</span></tt>), but doesn't know that AVX-512 wants 64. To be clear: if you can't decide to use an instruction set with an <tt class="docutils literal"><span class="pre">sdl.has...()</span></tt> procedure, don't use that instruction set with memory allocated through here.</p>
<p><tt class="docutils literal"><span class="pre">sdl.allocSIMD(0)</span></tt> will return a non-<tt class="docutils literal"><span class="pre">nil</span></tt> pointer, assuming the system isn't out of memory.</p>
<p><tt class="docutils literal"><span class="pre">len</span></tt> The length, in bytes, of the block to allocated. The actual allocated block might be larger due to padding, etc.</p>
<p><tt class="docutils literal"><span class="pre">Return</span></tt> pointer to newly-allocated block, <tt class="docutils literal"><span class="pre">nil</span></tt> if out of memory.</p>
<p>See also:</p>
<p><tt class="docutils literal"><span class="pre">sdl.simdAlignment()</span></tt></p>
<p><tt class="docutils literal"><span class="pre">sdl.simdRealloc()</span></tt></p>
<p><tt class="docutils literal"><span class="pre">sdl.simdFree()</span></tt></p>


</dd>
<a id="simdRealloc,pointer,csize_t"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#simdRealloc%2Cpointer%2Ccsize_t"><span class="Identifier">simdRealloc</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Identifier">mem</span><span class="Other">:</span> <span class="Identifier">pointer</span><span class="Other">;</span> <span class="Identifier">len</span><span class="Other">:</span> <span class="Identifier">csize_t</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">pointer</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span>
    <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_SIMDRealloc&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Reallocate memory obtained from <tt class="docutils literal"><span class="pre">sdl.simdAlloc()</span></tt></p>
<p>It is not valid to use this procedure on a pointer from anything but <tt class="docutils literal"><span class="pre">sdl.simdAlloc()</span></tt>. It can't be used on pointers from <tt class="docutils literal"><span class="pre">malloc()</span></tt>, <tt class="docutils literal"><span class="pre">realloc()</span></tt>,  <tt class="docutils literal"><span class="pre">sdl.malloc()</span></tt>, <tt class="docutils literal"><span class="pre">memalign()</span></tt>, <tt class="docutils literal"><span class="pre">new</span></tt>, etc.</p>
<p><tt class="docutils literal"><span class="pre">mem</span></tt> The pointer obtained from <tt class="docutils literal"><span class="pre">sdl.simdAlloc()</span></tt>. This procedure also accepts <tt class="docutils literal"><span class="pre">nil</span></tt>, at which point this procedure is the same as calling <tt class="docutils literal"><span class="pre">sdl.realloc()</span></tt> with a <tt class="docutils literal"><span class="pre">nil</span></tt> pointer.</p>
<p><tt class="docutils literal"><span class="pre">len</span></tt> The length, in bytes, of the block to allocated. The actual allocated block might be larger due to padding, etc. Passing <tt class="docutils literal"><span class="pre">0</span></tt> will return a non-<tt class="docutils literal"><span class="pre">nil</span></tt> pointer, assuming the system isn't out of memory.</p>
<p><tt class="docutils literal"><span class="pre">Return</span></tt> pointer to newly-reallocated block, <tt class="docutils literal"><span class="pre">nil</span></tt> if out of memory.</p>
<p>See also:</p>
<p><tt class="docutils literal"><span class="pre">sdl.simdAlignment()</span></tt></p>
<p><tt class="docutils literal"><span class="pre">sdl.simdAlloc()</span></tt></p>
<p><tt class="docutils literal"><span class="pre">sdl.simdFree()</span></tt></p>


</dd>
<a id="simdFree,pointer"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#simdFree%2Cpointer"><span class="Identifier">simdFree</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <span class="Identifier">pointer</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_SIMDFree&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Deallocate memory obtained from <tt class="docutils literal"><span class="pre">sdl.simdAlloc()</span></tt>.</p>
<p>It is not valid to use this procedure on a pointer from anything but <tt class="docutils literal"><span class="pre">sdl.simdAlloc()</span></tt>. It can't be used on pointers from malloc, realloc, <tt class="docutils literal"><span class="pre">sdl.malloc()</span></tt>, memalign, new[], etc.</p>
<p>However, <tt class="docutils literal"><span class="pre">sdl.simdFree(nil)</span></tt> is a legal no-op.</p>
<p>See also:</p>
<p><tt class="docutils literal"><span class="pre">sdl.simdAlloc()</span></tt></p>
<p><tt class="docutils literal"><span class="pre">sdl.simdRealloc()</span></tt></p>


</dd>

</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2020-12-27 16:44:21 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
