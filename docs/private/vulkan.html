<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>vulkan</title>
<link rel="stylesheet" type="text/css" href="nimdoc.out.css">

<script type="text/javascript" src="dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  toggleSwitch.addEventListener('change', switchTheme, false);

  const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;
  if (currentTheme) {
    document.documentElement.setAttribute('data-theme', currentTheme);

    if (currentTheme === 'dark') {
      toggleSwitch.checked = true;
    }
  }
}

window.addEventListener('DOMContentLoaded', main);
</script>

</head>
<body>
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">vulkan</h1>
    <div class="row">
  <div class="three columns">
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
    &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
  </div>
  <div id="global-links">
    <ul class="simple">
    <li>
      <a href="../index.html">Index</a>
    </li>
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
  <div>
    Group by:
    <select onchange="groupBy(this.value)">
      <option value="section">Section</option>
      <option value="type">Type</option>
    </select>
  </div>
  <ul class="simple simple-toc" id="toc-list">
<li><a class="reference" id="vulkandotnim_toc" href="#vulkandotnim">vulkan.nim</a></li>
<li>
  <a class="reference reference-toplevel" href="#7" id="57">Types</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#VkInstance"
    title="VkInstance* = pointer">VkInstance</a></li>
  <li><a class="reference" href="#VkSurfaceKHR"
    title="VkSurfaceKHR* = pointer">VkSurfaceKHR</a></li>
  <li><a class="reference" href="#VulkanInstance"
    title="VulkanInstance* = VkInstance">VulkanInstance</a></li>
  <li><a class="reference" href="#VulkanSurface"
    title="VulkanSurface* = VkSurfaceKHR">VulkanSurface</a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#12" id="62">Procs</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#vulkanLoadLibrary%2Ccstring"
    title="vulkanLoadLibrary*(path: cstring): cint">vulkanLoadLibrary</a></li>
  <li><a class="reference" href="#vulkanGetVkGetInstanceProcAddr"
    title="vulkanGetVkGetInstanceProcAddr*(): pointer">vulkanGetVkGetInstanceProcAddr</a></li>
  <li><a class="reference" href="#vulkanUnloadLibrary"
    title="vulkanUnloadLibrary*()">vulkanUnloadLibrary</a></li>
  <li><a class="reference" href="#vulkanGetInstanceExtensions%2CWindow%2Cptr.cuint%2CcstringArray"
    title="vulkanGetInstanceExtensions*(window: Window; pCount: ptr cuint;
                             pNames: cstringArray): bool">vulkanGetInstanceExtensions</a></li>
  <li><a class="reference" href="#vulkanCreateSurface%2CWindow%2CVkInstance%2Cptr.VkSurfaceKHR"
    title="vulkanCreateSurface*(window: Window; instance: VkInstance;
                     surface: ptr VkSurfaceKHR): bool">vulkanCreateSurface</a></li>
  <li><a class="reference" href="#vulkanGetDrawableSize%2CWindow%2Cptr.cint%2Cptr.cint"
    title="vulkanGetDrawableSize*(window: Window; w: ptr cint; h: ptr cint)">vulkanGetDrawableSize</a></li>

  </ul>
</li>

</ul>

  </div>
  
  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc">
<h1><a class="toc-backref" id="vulkandotnim" href="#vulkandotnim">vulkan.nim</a></h1><p>Header file for procedures to creating Vulkan surfaces on SDL windows.</p>
<p>Vulkan support procedures</p>
<p><tt class="docutils literal"><span class="pre">Note:</span></tt> <tt class="docutils literal"><span class="pre">vulkanGetInstanceExtensions</span></tt> &amp; <tt class="docutils literal"><span class="pre">vulkan_CreateSurface</span></tt> API is compatable with Tizen's implementation of Vulkan in SDL.</p>
</p>
  <div class="section" id="7">
<h1><a class="toc-backref" href="#7">Types</a></h1>
<dl class="item">
<a id="VkInstance"></a>
<dt><pre><span class="Identifier">VkInstance</span><span class="Operator">*</span> <span class="Other">=</span> <span class="Identifier">pointer</span></pre></dt>
<dd>



</dd>
<a id="VkSurfaceKHR"></a>
<dt><pre><span class="Identifier">VkSurfaceKHR</span><span class="Operator">*</span> <span class="Other">=</span> <span class="Identifier">pointer</span></pre></dt>
<dd>



</dd>
<a id="VulkanInstance"></a>
<dt><pre><span class="Identifier">VulkanInstance</span><span class="Operator">*</span> <span class="Other">=</span> <span class="Identifier">VkInstance</span></pre></dt>
<dd>



</dd>
<a id="VulkanSurface"></a>
<dt><pre><span class="Identifier">VulkanSurface</span><span class="Operator">*</span> <span class="Other">=</span> <span class="Identifier">VkSurfaceKHR</span></pre></dt>
<dd>

for compatibility with Tizen

</dd>

</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#12">Procs</a></h1>
<dl class="item">
<a id="vulkanLoadLibrary,cstring"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#vulkanLoadLibrary%2Ccstring"><span class="Identifier">vulkanLoadLibrary</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span>
    <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_Vulkan_LoadLibrary&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Dynamically load a Vulkan loader library.</p>
<p><tt class="docutils literal"><span class="pre">path</span></tt> The platform dependent Vulkan loader library name, or <tt class="docutils literal"><span class="pre">nil</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">Return</span></tt> <tt class="docutils literal"><span class="pre">0</span></tt> on success, or <tt class="docutils literal"><span class="pre">-1</span></tt> if the library couldn't be loaded.</p>
<p>If <tt class="docutils literal"><span class="pre">path</span></tt> is <tt class="docutils literal"><span class="pre">nil</span></tt> SDL will use the value of the environment variable <tt class="docutils literal"><span class="pre">SDL_VULKAN_LIBRARY</span></tt>, if set, otherwise it loads the default Vulkan loader library.</p>
<p>This should be called after initializing the video driver, but before creating any Vulkan windows. If no Vulkan loader library is loaded, the default library will be loaded upon creation of the first Vulkan window.</p>
<p><tt class="docutils literal"><span class="pre">Note:</span></tt> It is fairly common for Vulkan applications to link with <tt class="docutils literal"><span class="pre">libvulkan</span></tt> instead of explicitly loading it at run time. This will work with SDL provided the application links to a dynamic library and both it and SDL use the same search path.</p>
<p><tt class="docutils literal"><span class="pre">Note:</span></tt> If you specify a non-<tt class="docutils literal"><span class="pre">nil</span></tt> <tt class="docutils literal"><span class="pre">path</span></tt>, an application should retrieve all of the Vulkan procedures it uses from the dynamic library using <tt class="docutils literal"><span class="pre">vulkanGetVkGetInstanceProcAddr()</span></tt> unless you can guarantee <tt class="docutils literal"><span class="pre">path</span></tt> points to the same vulkan loader library the application linked to.</p>
<p><tt class="docutils literal"><span class="pre">Note:</span></tt> On Apple devices, if <tt class="docutils literal"><span class="pre">path</span></tt> is <tt class="docutils literal"><span class="pre">nil</span></tt>, SDL will attempt to find the <tt class="docutils literal"><span class="pre">vkGetInstanceProcAddr</span></tt> address within all the mach-o images of the current process. This is because it is fairly common for Vulkan applications to link with libvulkan (and historically MoltenVK was provided as a static library). If it is not found then, on macOS, SDL will attempt to load <tt class="docutils literal"><span class="pre">vulkan.framework/vulkan</span></tt>, <tt class="docutils literal"><span class="pre">libvulkan.1.dylib</span></tt>, followed by <tt class="docutils literal"><span class="pre">libvulkan.dylib</span></tt>, in that order. On iOS SDL will attempt to load <tt class="docutils literal"><span class="pre">libvulkan.dylib</span></tt> only. Applications using a dynamic framework or .dylib must ensure it is included in its application bundle.</p>
<p><tt class="docutils literal"><span class="pre">Note</span></tt> On non-Apple devices, application linking with a static libvulkan is not supported. Either do not link to the Vulkan loader or link to a dynamic library version.</p>
<p><tt class="docutils literal"><span class="pre">Note:</span></tt> This procedures will fail if there are no working Vulkan drivers installed.</p>
<p>See also:</p>
<p><tt class="docutils literal"><span class="pre">vulkanGetVkGetInstanceProcAddr()</span></tt></p>
<p><tt class="docutils literal"><span class="pre">vulkanUnloadLibrary()</span></tt></p>


</dd>
<a id="vulkanGetVkGetInstanceProcAddr"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#vulkanGetVkGetInstanceProcAddr"><span class="Identifier">vulkanGetVkGetInstanceProcAddr</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">pointer</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span>
    <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_Vulkan_GetVkGetInstanceProcAddr&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Get the address of the <tt class="docutils literal"><span class="pre">vkGetInstanceProcAddr</span></tt> procedure.</p>
<p><tt class="docutils literal"><span class="pre">Note:</span></tt> This should be called after either calling <tt class="docutils literal"><span class="pre">vulkanLoadLibrary</span></tt> or creating an SDL_Window with the <tt class="docutils literal"><span class="pre">WINDOW_VULKAN</span></tt> flag.</p>


</dd>
<a id="vulkanUnloadLibrary"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#vulkanUnloadLibrary"><span class="Identifier">vulkanUnloadLibrary</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_Vulkan_UnloadLibrary&quot;</span><span class="Other">,</span>
                              <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Unload the Vulkan loader library previously loaded by <tt class="docutils literal"><span class="pre">vulkanLoadLibrary()</span></tt>.</p>
<p>See also:</p>
<p><tt class="docutils literal"><span class="pre">vulkanLoadLibrary()</span></tt></p>


</dd>
<a id="vulkanGetInstanceExtensions,Window,ptr.cuint,cstringArray"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#vulkanGetInstanceExtensions%2CWindow%2Cptr.cuint%2CcstringArray"><span class="Identifier">vulkanGetInstanceExtensions</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Identifier">window</span><span class="Other">:</span> <span class="Identifier">Window</span><span class="Other">;</span> <span class="Identifier">pCount</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">cuint</span><span class="Other">;</span>
                                  <span class="Identifier">pNames</span><span class="Other">:</span> <span class="Identifier">cstringArray</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span>
    <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_Vulkan_GetInstanceExtensions&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Get the names of the Vulkan instance extensions needed to create a surface with <tt class="docutils literal"><span class="pre">vulkan_CreateSurface()</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">window</span></tt> <tt class="docutils literal"><span class="pre">nil</span></tt> or window for which the required Vulkan instance extensions should be retrieved.</p>
<p><tt class="docutils literal"><span class="pre">pCount</span></tt> Pointer to an <tt class="docutils literal"><span class="pre">cuint</span></tt> related to the number of required Vulkan instance extensions.</p>
<p><tt class="docutils literal"><span class="pre">pNames</span></tt> <tt class="docutils literal"><span class="pre">nil</span></tt> or a pointer to an array to be filled with the required Vulkan instance extensions.</p>
<p><tt class="docutils literal"><span class="pre">Return</span></tt> <tt class="docutils literal"><span class="pre">true</span></tt> on success, <tt class="docutils literal"><span class="pre">false</span></tt> on error.</p>
<p>If <tt class="docutils literal"><span class="pre">pNames</span></tt> is <tt class="docutils literal"><span class="pre">nil</span></tt>, then the number of required Vulkan instance extensions is returned in <tt class="docutils literal"><span class="pre">pCount</span></tt>. Otherwise, <tt class="docutils literal"><span class="pre">pCount</span></tt> must point to a variable set to the number of elements in the <tt class="docutils literal"><span class="pre">pNames</span></tt> array, and on return the variable is overwritten with the number of names actually written to <tt class="docutils literal"><span class="pre">pNames</span></tt>. If <tt class="docutils literal"><span class="pre">pCount</span></tt> is less than the number of required extensions, at most <tt class="docutils literal"><span class="pre">pCount</span></tt> structures will be written. If <tt class="docutils literal"><span class="pre">pCount</span></tt> is smaller than the number of required extensions, <tt class="docutils literal"><span class="pre">0</span></tt> will be returned instead <tt class="docutils literal"><span class="pre">1</span></tt>, to indicate that not all the required extensions were returned.</p>
<p><tt class="docutils literal"><span class="pre">Note:</span></tt> If <tt class="docutils literal"><span class="pre">window</span></tt> is not <tt class="docutils literal"><span class="pre">nil</span></tt>, it will be checked against its creation flags to ensure that the Vulkan flag is present. This parameter will be removed in a future major release.</p>
<p><tt class="docutils literal"><span class="pre">Note:</span></tt> The returned list of extensions will contain VK_KHR_surface and zero or more platform specific extensions</p>
<p><tt class="docutils literal"><span class="pre">Note:</span></tt> The extension names queried here must be enabled when calling <tt class="docutils literal"><span class="pre">vkCreateInstance</span></tt>, otherwise surface creation will fail.</p>
<p><tt class="docutils literal"><span class="pre">Note:</span></tt> <tt class="docutils literal"><span class="pre">window</span></tt> should have been created with the <tt class="docutils literal"><span class="pre">WINDOW_VULKAN</span></tt> flag or be <tt class="docutils literal"><span class="pre">nil</span></tt>.</p>
<pre class="listing"><span class="Keyword">var</span> <span class="Identifier">count</span><span class="Punctuation">:</span> <span class="Identifier">cuint</span>

<span class="Comment"># get count of required extensions</span>
<span class="Keyword">if</span> <span class="Keyword">not</span> <span class="Identifier">vulkanGetInstanceExtensions</span><span class="Punctuation">(</span><span class="Keyword">nil</span><span class="Punctuation">,</span> <span class="Keyword">addr</span><span class="Punctuation">(</span><span class="Identifier">count</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Keyword">nil</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Identifier">handleError</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

<span class="Keyword">var</span>
  <span class="Identifier">additionalExtensions</span><span class="Punctuation">:</span> <span class="Keyword">ptr</span> <span class="Identifier">cstring</span> <span class="Operator">=</span> <span class="Punctuation">[</span>
    <span class="Identifier">VK_EXT_DEBUG_REPORT_EXTENSION_NAME</span><span class="Punctuation">]</span> <span class="Comment"># example additional extension</span>
  
  <span class="Identifier">additionalExtensionsCount</span><span class="Punctuation">:</span> <span class="Identifier">csize</span> <span class="Operator">=</span> <span class="Identifier">sizeof</span><span class="Punctuation">(</span>
    <span class="Punctuation">(</span><span class="Identifier">additionalExtensions</span><span class="Punctuation">)</span> <span class="Keyword">div</span> <span class="Identifier">sizeof</span><span class="Punctuation">(</span><span class="Punctuation">(</span><span class="Identifier">additionalExtensions</span><span class="Punctuation">[</span><span class="DecNumber">0</span><span class="Punctuation">]</span><span class="Punctuation">)</span><span class="Punctuation">)</span>
  
  <span class="Identifier">extensionCount</span><span class="Punctuation">:</span> <span class="Identifier">csize</span> <span class="Operator">=</span> <span class="Identifier">count</span> <span class="Operator">+</span> <span class="Identifier">additionalExtensionsCount</span>
  
  <span class="Identifier">names</span><span class="Punctuation">:</span> <span class="Identifier">cstringArray</span> <span class="Operator">=</span> <span class="Identifier">malloc</span><span class="Punctuation">(</span><span class="Identifier">sizeof</span><span class="Punctuation">(</span><span class="Keyword">cast</span><span class="Punctuation">[</span><span class="Identifier">cstring</span><span class="Punctuation">]</span><span class="Punctuation">(</span><span class="Identifier">extensionCount</span><span class="Punctuation">[</span><span class="Punctuation">]</span><span class="Punctuation">)</span><span class="Punctuation">)</span><span class="Punctuation">)</span>

<span class="Keyword">if</span> <span class="Keyword">not</span> <span class="Identifier">names</span><span class="Punctuation">:</span>
  <span class="Identifier">handleError</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

<span class="Comment"># get names of required extensions</span>
<span class="Keyword">if</span> <span class="Keyword">not</span> <span class="Identifier">vulkanGetInstanceExtensions</span><span class="Punctuation">(</span><span class="Keyword">nil</span><span class="Punctuation">,</span> <span class="Keyword">addr</span><span class="Punctuation">(</span><span class="Identifier">count</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Identifier">names</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Identifier">handleError</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

<span class="Comment"># copy additional extensions after required extensions</span>
<span class="Keyword">for</span> <span class="Identifier">i</span> <span class="Keyword">in</span> <span class="FloatNumber">0.</span><span class="Operator">.&lt;</span><span class="Identifier">additionalExtensionsCount</span><span class="Punctuation">:</span>
  <span class="Identifier">names</span><span class="Punctuation">[</span><span class="Identifier">i</span> <span class="Operator">+</span> <span class="Identifier">count</span><span class="Punctuation">]</span> <span class="Operator">=</span> <span class="Identifier">additionalExtensions</span><span class="Punctuation">[</span><span class="Identifier">i</span><span class="Punctuation">]</span>

<span class="Keyword">var</span> <span class="Identifier">instanceCreateInfo</span><span class="Punctuation">:</span> <span class="Identifier">VkInstanceCreateInfo</span> <span class="Operator">=</span> <span class="Punctuation">[</span><span class="Punctuation">]</span>

<span class="Identifier">instanceCreateInfo</span><span class="Operator">.</span><span class="Identifier">enabledExtensionCount</span> <span class="Operator">=</span> <span class="Identifier">extensionCount</span>
<span class="Identifier">instanceCreateInfo</span><span class="Operator">.</span><span class="Identifier">ppEnabledExtensionNames</span> <span class="Operator">=</span> <span class="Identifier">names</span>
<span class="Comment"># fill in rest of instanceCreateInfo</span>

<span class="Keyword">var</span> <span class="Identifier">instance</span><span class="Punctuation">:</span> <span class="Identifier">VkInstance</span>

<span class="Comment"># create the Vulkan instance</span>
<span class="Keyword">var</span> <span class="Identifier">result</span><span class="Operator">*:</span> <span class="Identifier">VkResult</span> <span class="Operator">=</span> <span class="Identifier">vkCreateInstance</span><span class="Punctuation">(</span>
  <span class="Keyword">addr</span><span class="Punctuation">(</span><span class="Identifier">instanceCreateInfo</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Keyword">nil</span><span class="Punctuation">,</span> <span class="Keyword">addr</span><span class="Punctuation">(</span><span class="Identifier">instance</span><span class="Punctuation">)</span><span class="Punctuation">)</span>

<span class="Identifier">free</span><span class="Punctuation">(</span><span class="Identifier">names</span><span class="Punctuation">)</span></pre><p>See also:</p>
<p><tt class="docutils literal"><span class="pre">vulkanCreateSurface()</span></tt></p>


</dd>
<a id="vulkanCreateSurface,Window,VkInstance,ptr.VkSurfaceKHR"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#vulkanCreateSurface%2CWindow%2CVkInstance%2Cptr.VkSurfaceKHR"><span class="Identifier">vulkanCreateSurface</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Identifier">window</span><span class="Other">:</span> <span class="Identifier">Window</span><span class="Other">;</span> <span class="Identifier">instance</span><span class="Other">:</span> <span class="Identifier">VkInstance</span><span class="Other">;</span>
                          <span class="Identifier">surface</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">VkSurfaceKHR</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span>
    <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_Vulkan_CreateSurface&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Create a Vulkan rendering surface for a window.</p>
<p><tt class="docutils literal"><span class="pre">window</span></tt>    <tt class="docutils literal"><span class="pre">Window</span></tt> to which to attach the rendering surface.</p>
<p><tt class="docutils literal"><span class="pre">instance</span></tt>  Handle to the Vulkan instance to use.</p>
<p><tt class="docutils literal"><span class="pre">surface</span></tt>   Pointer to a VkSurfaceKHR handle to receive the handle of the newly created surface.</p>
<p><tt class="docutils literal"><span class="pre">Return</span></tt> <tt class="docutils literal"><span class="pre">true</span></tt> on success, <tt class="docutils literal"><span class="pre">false</span></tt> on error.</p>
<pre class="listing"><span class="Keyword">var</span>
  <span class="Identifier">instance</span><span class="Punctuation">:</span> <span class="Identifier">VkInstance</span>
  <span class="Identifier">window</span><span class="Punctuation">:</span> <span class="Identifier">Wwindow</span>

<span class="Comment"># create instance and window</span>

<span class="Comment"># create the Vulkan surface</span>
<span class="Keyword">var</span> <span class="Identifier">surface</span><span class="Punctuation">:</span> <span class="Identifier">VkSurfaceKHR</span>
<span class="Keyword">if</span> <span class="Keyword">not</span> <span class="Identifier">vulkanCreateSurface</span><span class="Punctuation">(</span><span class="Identifier">window</span><span class="Punctuation">,</span> <span class="Identifier">instance</span><span class="Punctuation">,</span> <span class="Keyword">addr</span><span class="Punctuation">(</span><span class="Identifier">surface</span><span class="Punctuation">)</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Identifier">handleError</span><span class="Punctuation">(</span><span class="Punctuation">)</span></pre><p><tt class="docutils literal"><span class="pre">Note:</span></tt> <tt class="docutils literal"><span class="pre">window</span></tt> should have been created with the <tt class="docutils literal"><span class="pre">WINDOW_VULKAN</span></tt> flag.</p>
<p><tt class="docutils literal"><span class="pre">Note:</span></tt> <tt class="docutils literal"><span class="pre">instance</span></tt> should have been created with the extensions returned by <tt class="docutils literal"><span class="pre">vulkanCreateSurface()</span></tt> enabled.</p>
<p>See also:</p>
<p><tt class="docutils literal"><span class="pre">vulkanGetInstanceExtensions()</span></tt></p>


</dd>
<a id="vulkanGetDrawableSize,Window,ptr.cint,ptr.cint"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#vulkanGetDrawableSize%2CWindow%2Cptr.cint%2Cptr.cint"><span class="Identifier">vulkanGetDrawableSize</span></a><span class="Operator">*</span><span class="Other">(</span><span class="Identifier">window</span><span class="Other">:</span> <span class="Identifier">Window</span><span class="Other">;</span> <span class="Identifier">w</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">cint</span><span class="Other">;</span> <span class="Identifier">h</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">cint</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">cdecl</span><span class="Other">,</span>
    <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;SDL_Vulkan_GetDrawableSize&quot;</span><span class="Other">,</span> <span class="Identifier">dynlib</span><span class="Other">:</span> <span class="Identifier">SDL2_LIB</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Get the size of a window's underlying drawable in pixels (for use with setting viewport, scissor &amp; etc).</p>
<p><tt class="docutils literal"><span class="pre">window</span></tt>  <tt class="docutils literal"><span class="pre">Window</span></tt> from which the drawable size should be queried.</p>
<p><tt class="docutils literal"><span class="pre">w</span></tt>       Pointer to variable for storing the width in pixels, may be <tt class="docutils literal"><span class="pre">nil</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">h</span></tt>       Pointer to variable for storing the height in pixels, may be <tt class="docutils literal"><span class="pre">nil</span></tt>.</p>
<p>This may differ from <tt class="docutils literal"><span class="pre">getWindowSize()</span></tt> if we're rendering to a high-DPI drawable, i.e. the window was created with <tt class="docutils literal"><span class="pre">WINDOW_ALLOW_HIGHDPI</span></tt> on a platform with high-DPI support (Apple calls this &quot;Retina&quot;), and not disabled by the <tt class="docutils literal"><span class="pre">HINT_VIDEO_HIGHDPI_DISABLED</span></tt> hint.</p>
<p><tt class="docutils literal"><span class="pre">Note:</span></tt> On macOS high-DPI support must be enabled for an application by setting <tt class="docutils literal"><span class="pre">NSHighResolutionCapable</span></tt> to <tt class="docutils literal"><span class="pre">true</span></tt> in its <tt class="docutils literal"><span class="pre">Info.plist</span></tt>.</p>
<p>See also:</p>
<p><tt class="docutils literal"><span class="pre">getWindowSize()</span></tt></p>
<p><tt class="docutils literal"><span class="pre">createWindow()</span></tt></p>


</dd>

</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2020-12-27 16:44:26 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
